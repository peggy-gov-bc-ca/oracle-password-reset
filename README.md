# oracle-password-reset
oracle-password-reset
deploy steps:
1. get all things from github
2. check out the all things
3.use Visual Code to open the folder
4. press ctr-shift-p
5. input 'shell'
6. Select shell launcher
7. select power shell
8. in power shell , input docker-compose up
9. after all 3 containers running, press ctr-shift-p
10. select docker container attach shell, select store/oracle/database-enterprise:12.2.0.1
11.input sqlplus
12.user-name: sys as sysdba
13.password:
14.you should be able to login to sqlplus with SQL>
15.input alter user sys identified by test123;
16.input 
-- USER SQL -create oracle username for connection and execute api
CREATE USER "C##ORACLE" IDENTIFIED BY "123456"  
DEFAULT TABLESPACE "USERS"
TEMPORARY TABLESPACE "TEMP";

-- QUOTAS
ALTER USER "C##ORACLE" QUOTA UNLIMITED ON "SYSTEM";
ALTER USER "C##ORACLE" QUOTA UNLIMITED ON "SYSAUX";
ALTER USER "C##ORACLE" QUOTA UNLIMITED ON "USERS";

-- ROLES
GRANT "CONNECT" TO "C##ORACLE" WITH ADMIN OPTION;
GRANT CREATE SESSION TO "C##SUPERMAN" WITH ADMIN OPTION;
GRANT "DBA" TO "C##ORACLE" WITH ADMIN OPTION;

-- SYSTEM PRIVILEGES
GRANT ALTER USER TO "C##ORACLE" WITH ADMIN OPTION;
GRANT UPDATE ANY TABLE TO "C##ORACLE" WITH ADMIN OPTION;
GRANT CREATE ANY TABLE TO "C##ORACLE" WITH ADMIN OPTION;


17. input
-- USER SQL, create superman for demo
CREATE USER "C##SUPERMAN" IDENTIFIED BY "super123"  
DEFAULT TABLESPACE "USERS"
TEMPORARY TABLESPACE "TEMP";

-- QUOTAS
ALTER USER "C##SUPERMAN" QUOTA UNLIMITED ON "SYSTEM";
ALTER USER "C##SUPERMAN" QUOTA UNLIMITED ON "SYSAUX";
ALTER USER "C##SUPERMAN" QUOTA UNLIMITED ON "USERS";

-- ROLES
GRANT "CONNECT" TO "C##SUPERMAN" WITH ADMIN OPTION;
GRANT CREATE SESSION TO "C##SUPERMAN" WITH ADMIN OPTION;

18. input
connect C##ORACLE
password: 123456

19. input following:
    CREATE TABLE "C##ORACLE"."ORACLE_PWD_RESET_USERS" 
   (	"ID" NUMBER NOT NULL ENABLE, 
	"USERNAME" VARCHAR2(100 BYTE) NOT NULL ENABLE, 
	"EMAILADDR" VARCHAR2(500 BYTE) NOT NULL ENABLE, 
	"RECOVERYCODE" VARCHAR2(8 BYTE), 
	"EXPIRETIME" VARCHAR2(100 BYTE), 
	 CONSTRAINT "ORACLE_PWD_RESET_USERS_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  

 
  CREATE TABLE "C##ORACLE"."ORACLE_PWD_RESET_AUDIT" 
   (	"ID" NUMBER NOT NULL ENABLE, 
	"USERNAME" VARCHAR2(100 BYTE) NOT NULL ENABLE, 
	"ACTION" VARCHAR2(500 BYTE), 
	"EXECUTETIME" VARCHAR2(500 BYTE), 
	"RESULT" VARCHAR2(500 BYTE), 
	"MSG" VARCHAR2(500 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
20. Then you can start browser to visit localhost:5050